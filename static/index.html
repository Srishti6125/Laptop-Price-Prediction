<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Laptop Price Predictor</title>
    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Google fonts: Inter for UI, Poppins for headings -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Main CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<div class="page">
    <!-- Top bar / header -->
    <header class="topbar">
        <div class="title-block">
            <div class="title-icon">
                <i class="fa-solid fa-laptop"></i>
            </div>
            <div class="title-text">
                <h1>Laptop Price Predictor</h1>
                <p>Enter laptop specifications to get an instant price estimate</p>
            </div>
        </div>
    </header>

    <!-- Centered card -->
    <main class="main">
        <section class="card">
            <form method="POST" id="prediction-form" class="form" action="#result-section">

                <!-- 1. Basic Details -->
                <div class="section">
                    <h2 class="section-title">1. Basic Details</h2>
                    <div class="grid">
                        <div class="form-group">
                            <label for="Company">Brand</label>
                            <select name="Company" id="Company" class="select-accent" required>
                                <option value="Dell"    {% if request.form.get('Company')=='Dell' %}selected{% endif %}>Dell</option>
                                <option value="HP"      {% if request.form.get('Company')=='HP' %}selected{% endif %}>HP</option>
                                <option value="Lenovo"  {% if request.form.get('Company')=='Lenovo' %}selected{% endif %}>Lenovo</option>
                                <option value="Asus"    {% if request.form.get('Company')=='Asus' %}selected{% endif %}>Asus</option>
                                <option value="Acer"    {% if request.form.get('Company')=='Acer' %}selected{% endif %}>Acer</option>
                                <option value="Apple"   {% if request.form.get('Company')=='Apple' %}selected{% endif %}>Apple</option>
                                <option value="MSI"     {% if request.form.get('Company')=='MSI' %}selected{% endif %}>MSI</option>
                                <option value="Toshiba" {% if request.form.get('Company')=='Toshiba' %}selected{% endif %}>Toshiba</option>
                                <option value="Samsung" {% if request.form.get('Company')=='Samsung' %}selected{% endif %}>Samsung</option>
                                <option value="Other"   {% if request.form.get('Company')=='Other' %}selected{% endif %}>Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="TypeName">Laptop Type</label>
                            <select class="select-accent" name="TypeName" id="TypeName" required>
                                <option value="Notebook"        {% if request.form.get('TypeName','Notebook')=='Notebook' %}selected{% endif %}>Notebook</option>
                                <option value="Gaming"          {% if request.form.get('TypeName')=='Gaming' %}selected{% endif %}>Gaming</option>
                                <option value="Ultrabook"       {% if request.form.get('TypeName')=='Ultrabook' %}selected{% endif %}>Ultrabook</option>
                                <option value="2 in 1 Convertible" {% if request.form.get('TypeName')=='2 in 1 Convertible' %}selected{% endif %}>2 in 1 Convertible</option>
                                <option value="Workstation"     {% if request.form.get('TypeName')=='Workstation' %}selected{% endif %}>Workstation</option>
                                <option value="Netbook"         {% if request.form.get('TypeName')=='Netbook' %}selected{% endif %}>Netbook</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 2. Display -->
                <div class="section">
                    <h2 class="section-title">2. Display</h2>
                    <div class="grid">
                        <div class="form-group">
                            <label for="Inches">Screen Size (inches)</label>
                            <input
                                type="number"
                                step="0.1"
                                name="Inches"
                                id="Inches"
                                required
                                value="{{ request.form.get('Inches','15.6') }}"
                            ><br>
                            <small class="hint">Common: 13.3, 14, 15.6, 17.3</small>
                        </div>

                        <div class="form-group checkbox-group">
                            <label>Screen Features</label><br><br>
                            <div class="checkbox-list">
                                <label class="inline">
                                    <input type="checkbox" name="is_ips"
                                           {% if request.form.get('is_ips')=='on' %}checked{% endif %}>
                                    IPS Panel
                                </label>
                                <label class="inline">
                                    <input type="checkbox" name="is_retina"
                                           {% if request.form.get('is_retina')=='on' %}checked{% endif %}>
                                    Retina Display
                                </label>
                                <label class="inline">
                                    <input type="checkbox" name="is_touchscreen"
                                           {% if request.form.get('is_touchscreen')=='on' %}checked{% endif %}>
                                    Touchscreen
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="res_w">Resolution Width (px)</label>
                            <input type="number" name="res_w" id="res_w" required value="{{ request.form.get('res_w','1920') }}" >
                        </div>

                        <div class="form-group">
                            <label for="res_h">Resolution Height (px)</label>
                            <input type="number" name="res_h" id="res_h" required value="{{ request.form.get('res_h','1080') }}">
                        </div>
                    </div>
                </div>

                <!-- 3. Processor -->
                <div class="section">
                    <h2 class="section-title">3. Processor</h2>
                    <div class="grid">
                        <div class="form-group">
                            <label for="cpu_brand">CPU Brand</label>
                            <select class="select-accent" name="cpu_brand" id="cpu_brand" required>
                                <option value="Intel"   {% if request.form.get('cpu_brand','Intel')=='Intel' %}selected{% endif %}>Intel</option>
                                <option value="AMD"     {% if request.form.get('cpu_brand')=='AMD' %}selected{% endif %}>AMD</option>
                                <option value="Samsung" {% if request.form.get('cpu_brand')=='Samsung' %}selected{% endif %}>Samsung</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="cpu_series">CPU Series</label>
                            <select class="select-accent" name="cpu_series" id="cpu_series" required>
                                <option value="i3"       {% if request.form.get('cpu_series','i5')=='i3' %}selected{% endif %}>Intel i3</option>
                                <option value="i5"       {% if request.form.get('cpu_series','i5')=='i5' %}selected{% endif %}>Intel i5</option>
                                <option value="i7"       {% if request.form.get('cpu_series')=='i7' %}selected{% endif %}>Intel i7</option>
                                <option value="Ryzen 1"  {% if request.form.get('cpu_series')=='Ryzen 1' %}selected{% endif %}>Ryzen 1</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="cpu_clock_speed">CPU Clock Speed (GHz)</label>
                            <input type="number" step="0.1" name="cpu_clock_speed" id="cpu_clock_speed" required value="{{ request.form.get('cpu_clock_speed','2.5') }}" >
                        </div>

                        <div class="form-group checkbox-group">
                            <label>Power Efficient CPU?</label><br><br>
                            <div class="radiobutton-list">
                                <label class="inline">
                                    <input type="radio" name="is_low_power_cpu" value="1"
                                           {% if request.form.get('is_low_power_cpu','1')=='1' %}checked{% endif %}>
                                    U / Y Series (Low Power)
                                </label><br>
                                <label class="inline">
                                    <input type="radio" name="is_low_power_cpu" value="0"
                                           {% if request.form.get('is_low_power_cpu')=='0' %}checked{% endif %}>
                                    H Series (High Power)
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4. Memory & Storage -->
                <div class="section">
                    <h2 class="section-title">4. Memory & Storage</h2>
                    <div class="grid">
                        <div class="form-group">
                            <label for="ram_gb">RAM (GB)</label>
                            <input type="number" name="ram_gb" id="ram_gb" required value="{{ request.form.get('ram_gb','8') }}" >
                        </div>

                        <div class="form-group">
                            <label for="ssd_gb">SSD (GB)</label>
                            <input type="number" name="ssd_gb" id="ssd_gb" required value="{{ request.form.get('ssd_gb','256') }}">
                        </div>

                        <div class="form-group">
                            <label for="hdd_gb">HDD (GB)</label>
                            <input
                                type="number"
                                name="hdd_gb"
                                id="hdd_gb"
                                required
                                value="{{ request.form.get('hdd_gb','0') }}"
                            >
                        </div>

                        <div class="form-group">
                            <label for="flash_gb">Flash Storage (GB)</label>
                            <input
                                type="number"
                                name="flash_gb"
                                id="flash_gb"
                                required
                                value="{{ request.form.get('flash_gb','0') }}"
                            >
                        </div>
                    </div>
                </div>

                <!-- 5. Graphics -->
                <div class="section">
                    <h2 class="section-title">5. Graphics</h2>
                    <div class="grid">
                        <div class="form-group">
                            <label for="gpu_brand">GPU Brand</label>
                            <select class="select-accent" name="gpu_brand" id="gpu_brand" required>
                                <option value="Intel"  {% if request.form.get('gpu_brand','Intel')=='Intel' %}selected{% endif %}>Intel</option>
                                <option value="Nvidia" {% if request.form.get('gpu_brand')=='Nvidia' %}selected{% endif %}>Nvidia</option>
                                <option value="AMD"    {% if request.form.get('gpu_brand')=='AMD' %}selected{% endif %}>AMD</option>
                                <option value="ARM"    {% if request.form.get('gpu_brand')=='ARM' %}selected{% endif %}>ARM</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="gpu_type">GPU Type</label>
                            <select class="select-accent" name="gpu_type" id="gpu_type" required>
                                <option value="Integrated" {% if request.form.get('gpu_type','Integrated')=='Integrated' %}selected{% endif %}>Integrated</option>
                                <option value="Dedicated" {% if request.form.get('gpu_type')=='Dedicated' %}selected{% endif %}>Dedicated</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 6. OS & Build -->
                <div class="section">
                    <h2 class="section-title">6. OS & Build</h2>
                    <div class="grid">
                        <div class="form-group">
                            <label for="OpSys">Operating System</label>
                            <select class="select-accent" name="OpSys" id="OpSys" required>
                                <option value="Windows" {% if request.form.get('OpSys','Windows')=='Windows' %}selected{% endif %}>Windows</option>
                                <option value="Mac"     {% if request.form.get('OpSys')=='Mac' %}selected{% endif %}>Mac</option>
                                <option value="Linux"   {% if request.form.get('OpSys')=='Linux' %}selected{% endif %}>Linux</option>
                                <option value="Android" {% if request.form.get('OpSys')=='Android' %}selected{% endif %}>Android</option>
                                <option value="NoOS"    {% if request.form.get('OpSys')=='NoOS' %}selected{% endif %}>No OS</option>
                                <option value="Other"   {% if request.form.get('OpSys')=='Other' %}selected{% endif %}>Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="weight_kg">Weight (kg)</label>
                            <input
                                type="number"
                                step="0.1"
                                name="weight_kg"
                                id="weight_kg"
                                required
                                value="{{ request.form.get('weight_kg','1.8') }}"
                            >
                        </div>
                    </div>
                </div>

                <!-- Error & Result -->
                <div id="result-section">
                    {% if error %}
                        <div class="alert alert-error">
                            ⚠️ {{ error }}
                        </div>
                    {% endif %}

                    {% if predicted_price %}
                        <div class="result-card">
                            <div class="result-label">Estimated Price</div>
                            <div class="result-value">₹ {{ "%.2f" | format(predicted_price) }}</div>
                            <div class="result-sub"><i>(Based on the configuration entered)</i></div>
                        </div>
                    {% else %}
                        <p class="result-placeholder">
                            Fill the form and click <strong>Predict Price</strong> to see the estimated value here.
                        </p>
                    {% endif %}
                </div>

                <!-- Submit -->
                <div class="submit-wrap">
                    <button type="submit" class="btn" id="submit-btn">
                        <span class="btn-label">Predict Price</span>
                        <span class="btn-spinner" id="btn-spinner"></span>
                    </button>
                </div>
            </form>
        </section>
    </main>

    <footer class="footer">
        <span>Built with Flask • scikit-learn • XGBoost</span>
    </footer>
</div>

<script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
